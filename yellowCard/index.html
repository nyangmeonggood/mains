<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1"
    />
    <title>yellowCard</title>
    <link
        rel="stylesheet"
        href="https://use.fontawesome.com/releases/v5.15.1/css/all.css"
        integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp"
        crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../scss/css reset.css" />
    <link rel="stylesheet" href="./style.css" />
</head>
<body>
<section id="main"></section>

<script>
    const $canvas = document.createElement("canvas"),
    $ctx = $canvas.getContext("2d")
    document.body.appendChild($canvas)

    var stageWidth = document.body.clientWidth,
        stageHeight = document.body.clientHeight;

    let mouse = {
        x:undefined,
        y:undefined,
        radius:100  
    }

    function resize(){
        stageWidth = document.body.clientWidth,
        stageHeight = document.body.clientHeight;

        $canvas.width = stageWidth
        $canvas.height = stageHeight
    }

    function draw(){
        $ctx.save()
        $ctx.beginPath()
        $ctx.translate(stageWidth / 2,20)
        $ctx.moveTo(-40,0)
        $ctx.lineTo(-40,10)
        if(mouse.y > 30){
            $ctx.lineTo(mouse.x - mouse.radius - stageWidth / 2,mouse.y - 20)
            $ctx.bezierCurveTo(mouse.x - mouse.radius - stageWidth / 2,mouse.y  + mouse.radius - 20, mouse.x + mouse.radius - stageWidth / 2,mouse.y  + mouse.radius- 20, mouse.x + mouse.radius - stageWidth / 2,mouse.y - 20);
            $ctx.lineTo(mouse.x + mouse.radius - stageWidth / 2,mouse.y - 20)
        }
        $ctx.lineTo(40,10)
        $ctx.lineTo(40,0)
        $ctx.fillStyle = "black"
        $ctx.fill()
        $ctx.closePath()
        $ctx.restore()
    }

    function animate(){
        window.requestAnimationFrame(animate)
        $ctx.clearRect(0,0,stageWidth,stageHeight)
        draw()
    }

    window.addEventListener("mousemove",(e)=>{
        mouse.x = e.clientX
        mouse.y = e.clientY

        console.log(mouse.x - mouse.radius)
    })

    window.addEventListener("resize",()=>{
        resize()
    })

    init()
    function init(){
        resize()
        animate()
    }
</script>
</body></html>