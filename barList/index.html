<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1"
    />
    <title>BarList</title>
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.1/css/all.css"
      integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../scss/css reset.css" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <section id="main">
      <div class="visual">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 240 47.9" enable-background="new 0 0 240 47.9" xml:space="preserve" role="img">
          <g>
            <path fill="#F2B700" d="M39.2,32c0,5.9-3.4,9.5-8.8,10.6c-1.5,0.3-4,0.3-5.7,0.3l-13.1-0.1v5L0,38.3l11.6-9.5v5l14.7,0.1
              c1.4,0,2-0.8,2-1.6c0-1.5-1.4-2-5.6-4c-6.7-3.2-11.9-5.5-11.9-12.8c0-5.7,4.1-9.6,10.1-10.4c1.2-0.2,3.5-0.2,4.9-0.2
              c3,0,11.4,0.2,11.4,0.2v9.1L23.4,14c-1.2,0-1.8,0.8-1.8,1.6c0,1.2,1,1.7,4.9,3.5C34.7,22.9,39.2,25,39.2,32z M60.9,31.3
              c0,1.7-1.5,3.1-4.2,3.1c-2.9,0-4.2-1.4-4.2-3.1V5H41.2v27.2c0,6,5,11.7,15.4,11.7c9.9,0,15.4-5.6,15.4-11.7V5H60.9V31.3z
                M106.7,31.5c0,7.5-5.1,11.6-12.5,11.6H75.5V5h18c8.1,0,12.2,4.5,12.2,10.4c0,3-1.4,5.6-4.2,7.5C104.8,24.7,106.7,27.5,106.7,31.5z
                M86.6,20.1l5.2,0c2,0,2.9-1.4,2.9-3.4c0-2.1-0.9-3.4-2.9-3.4h-5.2V20.1z M95.4,31c0-2.3-1.1-3.6-3.1-3.6h-5.7v7.2h5.7
              C94.4,34.6,95.4,33.2,95.4,31z"></path>
            <g>
              <path fill="#008938" d="M144.1,5h11.1v26.8c0,6.2-4.4,11.8-13.7,11.8c-4,0-7.1-1.2-9.3-3c-2.2,1.8-5.2,3-8.9,3
                c-9.9,0-14-5.6-14-11.8V5h11.1v26.6c0,1.1,0.6,2.5,3.1,2.5c2.5,0,3.2-1.3,3.2-2.5V5h11.1v26.6c0,1.1,0.6,2.5,3.1,2.5
                c2.5,0,3.2-1.3,3.2-2.5V5z M203,20L203,5h-11v16c0,5.3,3.6,9.3,9.7,11l0,11H213V32c6.2-1.7,9.6-5.7,9.6-11v-5.9
                c0-0.6,0.3-0.9,0.9-0.9l4.9,0v4.8L240,9.5L228.4,0v4.8h-7.7c-6.5,0-9.2,3.8-9.2,9.2v6c0,1.4-1,3.1-4.3,3.1
                C204,23.1,203,21.4,203,20z M189.2,15.9v27.2h-11.1V32h-8.4l0,11h-11.1V15.9c0-6.8,5.6-12,15.3-12C183.5,3.9,189.2,9,189.2,15.9z
                  M178.1,23.3l0-6.8c0-1.8-1.3-3.1-4.2-3.1c-3,0-4.2,1.3-4.2,3.1v6.8H178.1z"></path>
              <path fill="#008938" d="M219.9,40.7c0-0.3-0.3-0.5-0.6-0.5h-1v2h0.4v-0.7h0.5c0.2,0,0.4,0.1,0.4,0.4v0.4h0.4v-0.5
                c0-0.2-0.1-0.3-0.3-0.4v0C219.9,41.1,219.9,41,219.9,40.7z M219.2,41.1h-0.5v-0.6h0.5c0.2,0,0.3,0.1,0.3,0.3
                C219.5,41,219.4,41.1,219.2,41.1z M219.1,39.2c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2
                C221.1,40.1,220.2,39.2,219.1,39.2z M219.1,42.9c-0.9,0-1.7-0.8-1.7-1.7c0-0.9,0.8-1.7,1.7-1.7c0.9,0,1.7,0.8,1.7,1.7
                C220.7,42.1,220,42.9,219.1,42.9z"></path>
            </g>
          </g>
        </svg>
      </div>
      <ul class="contents">
      </ul>
      <button id="close"><i class="fas fa-times"></i></button>
      <div class="changeBg"></div>
      <ul class="listContainer"></ul>
    </section>
    <script>
      const $main = document.getElementById("main"),
        $changeBg = document.querySelector(".changeBg"),
        $listContainer = document.querySelector(".listContainer"),
        $contentContainer = document.querySelector(".contents"),
        $closeBtn = document.getElementById("close");

      let $content

      const product = [
        {name : "Italian<br>B.M.T", src:"./1.jpg", desc:"The Italian B.M.T.® sandwich is filled with Genoa salami, spicy pepperoni, and Black Forest Ham. Big. Meaty. Tasty. Get it."},
        {name : "Tuna", src:"./2.jpg", desc:"You’ll love every bite of our classic tuna sandwich. Flaked tuna blended with creamy mayo then topped with your choice of crisp, fresh veggies. Served on our freshly baked bread."},
        {name : "Buffalo<br>Chicken", src:"./3.jpg", desc:"Nothing says football season like Buffalo Chicken, and nothing says buffalo like Frank’s RedHot®. So this Footlong Season™, order up the new, spicy Buffalo Chicken Footlong made with everyone’s favorite sauce—Frank’s RedHot®."},
        {name : "Meatball<br>Marinara", src:"./4.jpg", desc:"The Meatball Marinara sandwich is drenched in irresistible marinara sauce, sprinkled with Parmesan cheese, topped with whatever you want (no judgement) and perfectly toasted just for you."}
      ]

      let changeTimeout,
        isChanging = false;

      function setList(){
        for(let i = 0; i < product.length; i++){
          let $li = document.createElement("li")
          $li.classList.add("slide",`slide${i+1}`)
          $li.dataset.list = i+1
          $li.innerHTML = `${product[i].name}<img src="./${i + 1}p.png" alt>`

          $listContainer.appendChild($li)

          $li = document.createElement("li")
          $li.classList.add("content",`content${i+1}`)

          let $div = document.createElement("div")
          $h2 = document.createElement("h2"),
          $span = document.createElement("span"),
          $p = document.createElement("p"),
          $button = document.createElement("button");

          $span.innerText = "sandwich"
          $h2.innerHTML = product[i].name
          $p.innerText = product[i].desc
          $button.innerText = "Order Now"


          $div.appendChild($span)
          $div.appendChild($h2)
          $div.appendChild($p)
          $div.appendChild($button)

          $li.appendChild($div)
          $contentContainer.appendChild($li)
        }

        $content = Object.values($contentContainer.children)

        Object.values($listContainer.children).map((item)=>{
          item.addEventListener("click", (e)=>{ 
            if(!isChanging){
              let listNum = e.target.dataset.list

              isChanging = true;
              $changeBg.classList.add("active")

              $changeBg.addEventListener("transitionend",()=>{
                $main.style.backgroundColor = `transparent`
                $content.map((item)=>{
                  item.classList.remove("active")
                })
                $content[listNum -1].classList.add("active")

                $changeBg.classList.remove("active")

                clearTimeout(changeTimeout)
                changeTimeout = setTimeout(()=>{
                  isChanging = false;
                },700)
              })
            }
          })
        })
      }

      $closeBtn.addEventListener("click",()=>{ 
          if(!isChanging){

            isChanging = true;
            $changeBg.classList.add("active")

            $changeBg.addEventListener("transitionend",()=>{
              $main.style.backgroundColor = `#f1f1f1`
              $content.map((item)=>{
                item.classList.remove("active")
              })

              $changeBg.classList.remove("active")

              clearTimeout(changeTimeout)
              changeTimeout = setTimeout(()=>{
                isChanging = false;
              },700)
            })
          }
      })

      init()
      function init(){
        setList()
      }
    </script>
  </body>
  </html>